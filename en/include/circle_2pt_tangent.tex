£§color£builtin`import` geometry;
£§color£function-name`size`(10£§color£constant`cm`,0);
£§color£type`pen` £§color£variable-name`bpp`=£§color£function-name`linewidth`(£§color£constant`bp`);
£§color£type`line` £§color£variable-name`l`=£§color£function-name`line`(£§color£constant`origin`,(1,-0.25)); £§color£function-name`draw`(£§color£string`"$(d)$"`, l, bpp);
£§color£type`point` £§color£variable-name`A`=(1,1.5), £§color£variable-name`B`=(0.75,2.5);
£§color£type`line` £§color£variable-name`AB`=£§color£function-name`line`(A,B);
£§color£type`point` £§color£variable-name`B1`=£§color£function-name`reflect`(l)*B, £§color£constant`I`=£§color£function-name`intersectionpoint`(l,AB), £§color£variable-name`B2`=£§color£function-name`rotate`(180,£§color£constant`I`)*B;
£§color£function-name`dot`(£§color£string`"$I$"`, £§color£constant`I`, £§color£constant`NE`); £§color£function-name`dot`(£§color£string`"$B_1$"`, B1, £§color£constant`SW`); £§color£function-name`dot`(£§color£string`"$B_2$"`, B2, £§color£constant`SE`);

£§color£function-name`draw`(B--B1, £§color£constant`grey`+£§color£constant`dashed`, £§color£function-name`StickIntervalMarker`(2,2,£§color£constant`grey`));
£§color£function-name`markrightangle`(B,£§color£function-name`midpoint`(B--B1),£§color£constant`I`, £§color£constant`grey`);
£§color£function-name`draw`(B--B2, £§color£constant`grey`+£§color£constant`dashed`, £§color£function-name`StickIntervalMarker`(2,1,£§color£constant`grey`));
£§color£function-name`draw`(£§color£function-name`complementary`(£§color£function-name`segment`(B,B2)));

£§color£type`circle` £§color£variable-name`C`=£§color£function-name`circle`(A,B1,B2); £§color£function-name`draw`(C, 0.8*£§color£constant`blue`);
£§color£type`point`[] T=£§color£function-name`intersectionpoints`(l,C);
£§color£function-name`dot`(£§color£string`"$T_0$"`,T[0], £§color£constant`NE`); £§color£function-name`dot`(£§color£string`"$T_1$"`,T[1], £§color£constant`N`+£§color£constant`NW`);

£§color£type`circle` £§color£variable-name`C1`=£§color£function-name`circle`(A,B,T[0]), £§color£variable-name`C2`=£§color£function-name`circle`(A,B,T[1]);
£§color£function-name`clipdraw`(C1, bpp+0.8*£§color£constant`red`); £§color£function-name`clipdraw`(C2, bpp+0.8*£§color£constant`red`);
£§color£function-name`dot`(£§color£string`"$O_1$"`, C1.C, £§color£constant`W`); £§color£function-name`dot`(£§color£string`"$O_2$"`, C2.C, £§color£constant`SW`); £§color£function-name`dot`(£§color£string`"$A$"`, A, £§color£constant`NE`); £§color£function-name`dot`(£§color£string`"$B$"`, B, £§color£constant`NE`);

£§color£function-name`draw`(A--T[0]--B1, £§color£constant`grey`); £§color£function-name`markangle`(A,T[0],B1, £§color£constant`grey`);
£§color£function-name`draw`(A--T[1]--B1, £§color£constant`grey`); £§color£function-name`markangle`(B1,T[1],A, £§color£constant`grey`);
£§color£function-name`draw`(B2--B1, £§color£constant`grey`); £§color£function-name`markangle`(A,B2,B1, £§color£constant`grey`);
