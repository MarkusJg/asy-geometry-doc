£~color£builtin`import` geometry;
£~color£function-name`size`(7.5£~color£constant`cm`,0);
£~color£type`pen` £~color£variable-name`bpp`=£~color£function-name`linewidth`(£~color£constant`bp`); £~color£type`real` £~color£variable-name`k`=£~color£function-name`sqrt`(2);

£~color£type`point` £~color£variable-name`A`=(0,0); £~color£function-name`dot`(£~color£string`"A"`, A, £~color£constant`SW`);
£~color£type`point` £~color£variable-name`B`=(1,2); £~color£function-name`dot`(£~color£string`"B"`, B, £~color£constant`N`);
£~color£type`point` £~color£constant`M`=(-1,1);
£~color£function-name`dot`(£~color£string`"M"`, £~color£constant`M`, -£~color£function-name`dir`(£~color£constant`M`--A,£~color£constant`M`--B));

£~color£type`point` £~color£variable-name`Ap`=£~color£function-name`scale`(k, £~color£constant`M`)*A;
£~color£function-name`dot`(£~color£string`"A'"`, Ap, £~color£constant`SW`, £~color£constant`red`);
£~color£type`point` £~color£variable-name`Bp`=£~color£function-name`scale`(k, £~color£constant`M`)*B;
£~color£function-name`dot`(£~color£string`"B'"`, Bp, £~color£constant`N`, £~color£constant`red`);

£~color£function-name`draw`(£~color£constant`M`--Ap, £~color£constant`grey`); £~color£function-name`draw`(£~color£constant`M`--Bp, £~color£constant`grey`);
£~color£function-name`draw`(A--B, bpp);
£~color£function-name`draw`(£~color£function-name`rotate`(£~color£function-name`unit`(Bp-Ap))*£~color£string`"$k\times AB$"`,
     Ap--Bp, bpp+£~color£constant`red`);
