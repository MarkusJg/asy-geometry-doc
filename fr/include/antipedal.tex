£~color£builtin`import` geometry; £~color£function-name`size`(10£~color£constant`cm`,0);
£~color£type`triangle` £~color£variable-name`t`=£~color£function-name`triangleabc`(5,6,7);
£~color£function-name`label`(t); £~color£function-name`draw`(t, £~color£function-name`linewidth`(£~color£constant`bp`));
£~color£type`point` £~color£variable-name`P`=0.5*t.B+0.3*t.C;
£~color£function-name`dot`(£~color£string`"$P$"`, P, 2*£~color£function-name`dir`(60));

£~color£type`triangle` £~color£variable-name`Pt`=£~color£function-name`pedal`(t,P);
£~color£constant`currentpen`=0.8*£~color£constant`blue`; £~color£function-name`draw`(Pt);
£~color£type`segment` £~color£variable-name`psA`=£~color£function-name`segment`(P,Pt.A);
£~color£type`segment` £~color£variable-name`psB`=£~color£function-name`segment`(P,Pt.B);
£~color£type`segment` £~color£variable-name`psC`=£~color£function-name`segment`(P,Pt.C);
£~color£function-name`draw`(psA); £~color£function-name`draw`(psB); £~color£function-name`draw`(psC);
£~color£function-name`perpendicularmark`(t.BC,psA);
£~color£function-name`perpendicularmark`(t.CA,psB);
£~color£function-name`perpendicularmark`(t.AB,psC);

£~color£type`triangle` £~color£variable-name`APt`=£~color£function-name`antipedal`(t, P);
£~color£constant`currentpen`=0.8*£~color£constant`red`; £~color£function-name`draw`(APt);
£~color£type`segment` £~color£variable-name`apsA`=£~color£function-name`segment`(P,t.A);
£~color£type`segment` £~color£variable-name`apsB`=£~color£function-name`segment`(P,t.B);
£~color£type`segment` £~color£variable-name`apsC`=£~color£function-name`segment`(P,t.C);
£~color£function-name`draw`(apsA); £~color£function-name`draw`(apsB); £~color£function-name`draw`(apsC);
£~color£function-name`perpendicularmark`(APt.BC,apsA);
£~color£function-name`perpendicularmark`(APt.CA,apsB);
£~color£function-name`perpendicularmark`(APt.AB,apsC);
