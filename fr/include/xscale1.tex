£~color£builtin`import` geometry;
£~color£function-name`size`(6£~color£constant`cm`,0);
£~color£type`real` £~color£variable-name`k`=£~color£function-name`sqrt`(2);
£~color£type`point` £~color£variable-name`A`=(1,2); £~color£function-name`dot`(£~color£string`"A"`, A, £~color£constant`S`);
£~color£type`point` £~color£constant`M`=(-1,1); £~color£function-name`dot`(£~color£string`"M"`, £~color£constant`M`, £~color£constant`W`);

£~color£type`point` £~color£variable-name`Ap`=£~color£function-name`xscale`(k, £~color£constant`M`)*A; £~color£function-name`dot`(£~color£string`"A'"`, Ap, £~color£constant`red`);
£~color£function-name`label`(£~color£string`"A'=xscale(k,M)*A"`, (0.75,1.125), £~color£constant`red`);

£~color£type`point` £~color£variable-name`P`=£~color£function-name`extension`(A, Ap, £~color£constant`M`, £~color£constant`M`+£~color£constant`N`);
£~color£function-name`dot`(£~color£string`"P"`, P, £~color£constant`W`); £~color£function-name`draw`(£~color£constant`M`--P); £~color£function-name`draw`(P--Ap);
£~color£function-name`perpendicularmark`(P, £~color£function-name`dir`(-45));
£~color£function-name`distance`(£~color£string`"$k\times PA$"`, P, Ap, -3£~color£constant`mm`, £~color£constant`grey`);
