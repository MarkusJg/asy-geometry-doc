<span class="builtin">import</span> geometry;
<span class="function-name">size</span>(6<span class="constant">cm</span>);
<span class="type">point</span> <span class="variable-name">A</span>=(2,2); <span class="type">point</span> <span class="variable-name">B</span>=(4,1); <span class="type">point</span> <span class="constant">M</span>=(4,3);
<span class="type">path</span> <span class="variable-name">cle</span>=<span class="function-name">shift</span>(3,2.5)*<span class="function-name">scale</span>(.25)*<span class="constant">unitcircle</span>;
<span class="function-name">draw</span>(cle, <span class="function-name">linewidth</span>(<span class="constant">bp</span>));

<span class="type">transform</span> <span class="variable-name">proj</span>=<span class="function-name">projection</span>(A,B);
<span class="type">point</span> <span class="variable-name">Mp</span>=proj*<span class="constant">M</span>;

<span class="function-name">draw</span>(proj*cle, 1<span class="constant">mm</span>+<span class="constant">red</span>);
<span class="function-name">dot</span>(<span class="string">"A"</span>, A, <span class="function-name">unit</span>(A-B)); <span class="function-name">dot</span>(<span class="string">"B"</span>, B, <span class="function-name">unit</span>(B-A));
<span class="function-name">dot</span>(<span class="string">"M"</span>, <span class="constant">M</span>, <span class="function-name">unit</span>(<span class="constant">M</span>-Mp));
<span class="function-name">dot</span>(<span class="string">"M'"</span>, Mp, <span class="function-name">unit</span>(Mp-<span class="constant">M</span>), <span class="constant">red</span>);
<span class="function-name">draw</span>(<span class="constant">M</span>--Mp, <span class="constant">grey</span>); <span class="function-name">draw</span>(A--B);
<span class="function-name">markrightangle</span>(<span class="constant">M</span>,Mp,A, <span class="constant">grey</span>);

