<span class="builtin">import</span> geometry; <span class="function-name">size</span>(12<span class="constant">cm</span>);
<span class="type">coordsys</span> <span class="variable-name">R</span>=<span class="constant">currentcoordsys</span>; <span class="function-name">show</span>(R);
<span class="type">point</span> <span class="variable-name">C</span>=(3,1.25); <span class="function-name">dot</span>(<span class="string">"$C$"</span>, C, 2*<span class="function-name">dir</span>(120), <span class="constant">red</span>);
<span class="type">hyperbola</span> <span class="variable-name">H</span>=<span class="function-name">hyperbola</span>(C, 2, 1.5, -10); <span class="function-name">draw</span>(H, <span class="function-name">linewidth</span>(<span class="constant">bp</span>));
<span class="type">coordsys</span> <span class="variable-name">Rp</span>=<span class="function-name">canonicalcartesiansystem</span>(H);
<span class="function-name">show</span>(<span class="function-name">Label</span>(<span class="string">"$O'$"</span>, <span class="constant">align</span>=<span class="constant">SW</span>,<span class="constant">blue</span>), <span class="function-name">Label</span>(<span class="string">"$\vec{u}$"</span>,<span class="constant">blue</span>),
     <span class="function-name">Label</span>(<span class="string">"$\vec{v}$"</span>,<span class="constant">blue</span>), Rp, ipen=<span class="constant">blue</span>);
<span class="function-name">dot</span>(<span class="string">"$0$"</span>, <span class="function-name">angpoint</span>(H,0,fromCenter), 2*<span class="function-name">dir</span>(120));
<span class="function-name">dot</span>(<span class="string">"$180$"</span>, <span class="function-name">angpoint</span>(H,180,fromCenter), 2*<span class="function-name">dir</span>(30));
<span class="function-name">draw</span>(<span class="function-name">arcfromcenter</span>(H,-20,30), <span class="constant">bp</span>+<span class="constant">red</span>); <span class="function-name">dot</span>(<span class="string">"$F_1$"</span>, H.F1, <span class="constant">N</span>+<span class="constant">NW</span>);
<span class="type">point</span> <span class="variable-name">P</span>=<span class="function-name">angpoint</span>(H,30,fromCenter); <span class="function-name">dot</span>(<span class="string">"$30$"</span>, P, <span class="constant">NW</span>);
<span class="type">segment</span> <span class="variable-name">s</span>=<span class="function-name">segment</span>(C, P); <span class="function-name">draw</span>(s);
<span class="function-name">markangle</span>(<span class="string">"$30^\circ$"</span>, <span class="function-name">Ox</span>(Rp), s, radius=2<span class="constant">cm</span>, Arrow);

