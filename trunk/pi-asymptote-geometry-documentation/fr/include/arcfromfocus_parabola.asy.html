<span class="builtin">import</span> geometry;
<span class="function-name">size</span>(8<span class="constant">cm</span>);
<span class="function-name">show</span>(<span class="constant">currentcoordsys</span>);

<span class="type">point</span> <span class="variable-name">F</span>=(1,0.5); <span class="function-name">dot</span>(<span class="string">"$F$"</span>,F,<span class="constant">E</span>,<span class="constant">red</span>);
<span class="type">parabola</span> <span class="constant">p</span>=<span class="function-name">parabola</span>(F,0.2,110); <span class="function-name">draw</span>(<span class="constant">p</span>);

<span class="type">coordsys</span> <span class="variable-name">Rp</span>=<span class="function-name">canonicalcartesiansystem</span>(<span class="constant">p</span>);
<span class="function-name">show</span>(<span class="function-name">Label</span>(<span class="string">"$O'$"</span>,<span class="constant">align</span>=<span class="constant">NW</span>+<span class="constant">W</span>,<span class="constant">blue</span>), <span class="function-name">Label</span>(<span class="string">"$\vec{u}$"</span>,<span class="constant">blue</span>),
     <span class="function-name">Label</span>(<span class="string">"$\vec{v}$"</span>,<span class="constant">blue</span>), Rp, ipen=<span class="constant">blue</span>);

<span class="function-name">dot</span>(<span class="string">"180"</span>, <span class="function-name">angpoint</span>(<span class="constant">p</span>,180), <span class="function-name">dir</span>(-30));
<span class="type">point</span> <span class="variable-name">P</span>=<span class="function-name">angpoint</span>(<span class="constant">p</span>,55); <span class="function-name">dot</span>(<span class="string">"55"</span>,P,<span class="constant">NE</span>);

<span class="type">segment</span> <span class="variable-name">s</span>=<span class="function-name">segment</span>(F,P); <span class="function-name">draw</span>(s);
<span class="type">line</span> <span class="variable-name">l</span>=<span class="function-name">line</span>(F,F+Rp.i);
<span class="function-name">markangle</span>(<span class="string">"$"</span>+(<span class="type">string</span>)<span class="function-name">degrees</span>(l,s)+<span class="string">"^\circ$"</span>,l,s,Arrow);

<span class="function-name">dot</span>(<span class="string">"-55"</span>, <span class="function-name">point</span>(<span class="function-name">arcfromfocus</span>(<span class="constant">p</span>,-55,-55,1),0), <span class="constant">W</span>);
<span class="function-name">dot</span>(<span class="string">"-90"</span>, <span class="function-name">point</span>(<span class="function-name">arcfromfocus</span>(<span class="constant">p</span>,-90,-90,1),0), <span class="constant">W</span>);
<span class="function-name">draw</span>(<span class="function-name">arcfromfocus</span>(<span class="constant">p</span>,55,-90), <span class="constant">bp</span>+0.8*<span class="constant">red</span>, <span class="function-name">Arrow</span>(3<span class="constant">mm</span>));

