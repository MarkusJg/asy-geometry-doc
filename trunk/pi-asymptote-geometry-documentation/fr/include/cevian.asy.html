<span class="builtin">import</span> geometry; <span class="function-name">size</span>(10<span class="constant">cm</span>,0);
<span class="type">triangle</span> <span class="variable-name">t</span>=<span class="function-name">triangleabc</span>(5,6,7); <span class="function-name">label</span>(t); <span class="function-name">draw</span>(t, <span class="function-name">linewidth</span>(<span class="constant">bp</span>));
<span class="type">point</span> <span class="variable-name">P</span>=0.6*t.B+0.25*t.C; <span class="function-name">dot</span>(<span class="string">"$P$"</span>, P, <span class="function-name">dir</span>(60), 0.8*<span class="constant">red</span>);
<span class="type">triangle</span> <span class="variable-name">C1</span>=<span class="function-name">cevian</span>(t, P);
<span class="function-name">label</span>(<span class="string">"$A'$"</span>,<span class="string">"$B'$"</span>,<span class="string">"$C'$"</span>, C1, 0.8*<span class="constant">red</span>); <span class="function-name">draw</span>(C1, <span class="constant">bp</span>+0.8*<span class="constant">red</span>, <span class="constant">dot</span>);
<span class="function-name">draw</span>(t.A--C1.A, 0.8*<span class="constant">red</span>); <span class="function-name">draw</span>(t.B--C1.B, 0.8*<span class="constant">red</span>); <span class="function-name">draw</span>(t.C--C1.C, 0.8*<span class="constant">red</span>);

<span class="type">point</span> <span class="variable-name">Ma</span>=<span class="function-name">midpoint</span>(t.BC), <span class="variable-name">Mb</span>=<span class="function-name">midpoint</span>(t.AC), <span class="variable-name">Mc</span>=<span class="function-name">midpoint</span>(t.BA);
<span class="function-name">dot</span>(<span class="string">"$M_1$"</span>,Ma,-<span class="function-name">dir</span>(t.VA)); <span class="function-name">dot</span>(<span class="string">"$M_2$"</span>,Mb,-<span class="function-name">dir</span>(t.VB)); <span class="function-name">dot</span>(<span class="string">"$M_3$"</span>,Mc,-<span class="function-name">dir</span>(t.VC));
<span class="function-name">draw</span>(t.A--Ma^^t.B--Mb^^t.C--Mc, <span class="constant">grey</span>); <span class="function-name">dot</span>(<span class="string">"$G$"</span>, <span class="function-name">centroid</span>(t), 2*<span class="function-name">dir</span>(-65), <span class="constant">grey</span>);

<span class="type">point</span> <span class="variable-name">App</span>=<span class="function-name">rotate</span>(180,Ma)*C1.A, <span class="variable-name">Bpp</span>=<span class="function-name">rotate</span>(180,Mb)*C1.B, <span class="variable-name">Cpp</span>=<span class="function-name">rotate</span>(180,Mc)*C1.C;
<span class="function-name">draw</span>(C1.A--App, 0.8*<span class="constant">green</span>, <span class="function-name">StickIntervalMarker</span>(2,1,0.8*<span class="constant">green</span>));
<span class="function-name">draw</span>(C1.B--Bpp, 0.8*<span class="constant">green</span>, <span class="function-name">StickIntervalMarker</span>(2,2,0.8*<span class="constant">green</span>));
<span class="function-name">draw</span>(C1.C--Cpp, 0.8*<span class="constant">green</span>, <span class="function-name">StickIntervalMarker</span>(2,3,0.8*<span class="constant">green</span>));

<span class="type">triangle</span> <span class="variable-name">C2</span>=<span class="function-name">triangle</span>(App,Bpp,Cpp);
<span class="function-name">label</span>(<span class="string">"$A''$"</span>,<span class="string">"$B''$"</span>,<span class="string">"$C''$"</span>, C2, 0.8*<span class="constant">blue</span>); <span class="function-name">draw</span>(C2, <span class="constant">bp</span>+0.8*<span class="constant">blue</span>, <span class="constant">dot</span>);
<span class="type">segment</span> <span class="variable-name">sA</span>=<span class="function-name">segment</span>(t.A,C2.A), <span class="variable-name">sB</span>=<span class="function-name">segment</span>(t.B,C2.B);
<span class="type">point</span> <span class="variable-name">PP</span>=<span class="function-name">intersectionpoint</span>(sA,sB);
<span class="function-name">dot</span>(<span class="string">"$P'$"</span>, PP, <span class="function-name">dir</span>(100), 0.8*<span class="constant">blue</span>);
<span class="function-name">draw</span>(sA, 0.8*<span class="constant">blue</span>); <span class="function-name">draw</span>(sB, 0.8*<span class="constant">blue</span>); <span class="function-name">draw</span>(<span class="function-name">segment</span>(t.C,C2.C), 0.8*<span class="constant">blue</span>);

