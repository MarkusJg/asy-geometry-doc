<span class="builtin">import</span> geometry; <span class="function-name">size</span>(8<span class="constant">cm</span>,0);
<span class="type">point</span> <span class="variable-name">P</span>=(0,-4.5); <span class="function-name">dot</span>(P); <span class="type">inversion</span> <span class="variable-name">inv</span>=<span class="function-name">inversion</span>(1,P);
<span class="type">line</span> <span class="variable-name">l1</span>=<span class="function-name">line</span>((0,0),(1,0.35)), <span class="variable-name">l2</span>=<span class="function-name">line</span>((0,0),(-1,0.35));
<span class="type">path</span> <span class="variable-name">g1</span>=inv*l1, <span class="variable-name">g2</span>=inv*l2;
<span class="function-name">fill</span>(g1^^g2,<span class="constant">evenodd</span>+<span class="constant">lightgrey</span>); <span class="function-name">draw</span>(g1,<span class="function-name">linewidth</span>(<span class="constant">bp</span>)); <span class="function-name">draw</span>(g2,<span class="function-name">linewidth</span>(<span class="constant">bp</span>));

<span class="builtin">for</span> (<span class="type">int</span> <span class="variable-name">i</span>:<span class="builtin">new</span> <span class="type">int</span>[]{-1,1}) {
  <span class="type">point</span> <span class="variable-name">P</span>=(i*0.1,0); <span class="type">triangle</span> <span class="variable-name">t</span>=<span class="function-name">triangle</span>(<span class="function-name">shift</span>(P)*<span class="constant">vline</span>,l1,l2); <span class="type">int</span> <span class="variable-name">n</span>=15;
  <span class="builtin">for</span> (<span class="type">int</span> <span class="variable-name">j</span>=0; j &lt;= n; ++j) {
    <span class="type">circle</span> <span class="variable-name">C</span>=<span class="function-name">excircle</span>(t.AB);
    t=<span class="function-name">triangle</span>(<span class="function-name">shift</span>(<span class="function-name">angpoint</span>(C,(i-1)*90))*<span class="constant">vline</span>,l1,l2);
    <span class="type">circle</span> <span class="variable-name">Cp</span>=inv*C; <span class="type">path</span> <span class="variable-name">g</span>=Cp; <span class="function-name">fill</span>(g,0.95*<span class="constant">yellow</span>); <span class="function-name">draw</span>(g,<span class="constant">bp</span>+<span class="constant">red</span>); <span class="function-name">draw</span>(g,<span class="constant">blue</span>); }}
<span class="function-name">shipout</span>(<span class="function-name">bbox</span>(5<span class="constant">mm</span>,<span class="function-name">Fill</span>(<span class="function-name">rgb</span>(0.95,0.95,0.8))));

