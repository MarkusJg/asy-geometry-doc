<span class="builtin">import</span> geometry;
<span class="function-name">size</span>(10<span class="constant">cm</span>,0);
<span class="type">pen</span> <span class="variable-name">bpp</span>=<span class="function-name">linewidth</span>(<span class="constant">bp</span>);
<span class="type">line</span> <span class="variable-name">l</span>=<span class="function-name">line</span>(<span class="constant">origin</span>,(1,-0.25)); <span class="function-name">draw</span>(<span class="string">"$(d)$"</span>, l, bpp);
<span class="type">point</span> <span class="variable-name">A</span>=(1,1.5), <span class="variable-name">B</span>=(0.75,2.5);
<span class="type">line</span> <span class="variable-name">AB</span>=<span class="function-name">line</span>(A,B);
<span class="type">point</span> <span class="variable-name">B1</span>=<span class="function-name">reflect</span>(l)*B, <span class="constant">I</span>=<span class="function-name">intersectionpoint</span>(l,AB), <span class="variable-name">B2</span>=<span class="function-name">rotate</span>(180,<span class="constant">I</span>)*B;
<span class="function-name">dot</span>(<span class="string">"$I$"</span>, <span class="constant">I</span>, <span class="constant">NE</span>); <span class="function-name">dot</span>(<span class="string">"$B_1$"</span>, B1, <span class="constant">SW</span>); <span class="function-name">dot</span>(<span class="string">"$B_2$"</span>, B2, <span class="constant">SE</span>);

<span class="function-name">draw</span>(B--B1, <span class="constant">grey</span>+<span class="constant">dashed</span>, <span class="function-name">StickIntervalMarker</span>(2,2,<span class="constant">grey</span>));
<span class="function-name">markrightangle</span>(B,<span class="function-name">midpoint</span>(B--B1),<span class="constant">I</span>, <span class="constant">grey</span>);
<span class="function-name">draw</span>(B--B2, <span class="constant">grey</span>+<span class="constant">dashed</span>, <span class="function-name">StickIntervalMarker</span>(2,1,<span class="constant">grey</span>));
<span class="function-name">draw</span>(<span class="function-name">complementary</span>(<span class="function-name">segment</span>(B,B2)));

<span class="type">circle</span> <span class="variable-name">C</span>=<span class="function-name">circle</span>(A,B1,B2); <span class="function-name">draw</span>(C, 0.8*<span class="constant">blue</span>);
<span class="type">point</span>[] T=<span class="function-name">intersectionpoints</span>(l,C);
<span class="function-name">dot</span>(<span class="string">"$T_0$"</span>,T[0], <span class="constant">NE</span>); <span class="function-name">dot</span>(<span class="string">"$T_1$"</span>,T[1], <span class="constant">N</span>+<span class="constant">NW</span>);

<span class="type">circle</span> <span class="variable-name">C1</span>=<span class="function-name">circle</span>(A,B,T[0]), <span class="variable-name">C2</span>=<span class="function-name">circle</span>(A,B,T[1]);
<span class="function-name">clipdraw</span>(C1, bpp+0.8*<span class="constant">red</span>); <span class="function-name">clipdraw</span>(C2, bpp+0.8*<span class="constant">red</span>);
<span class="function-name">dot</span>(<span class="string">"$O_1$"</span>, C1.C, <span class="constant">W</span>); <span class="function-name">dot</span>(<span class="string">"$O_2$"</span>, C2.C, <span class="constant">SW</span>); <span class="function-name">dot</span>(<span class="string">"$A$"</span>, A, <span class="constant">NE</span>); <span class="function-name">dot</span>(<span class="string">"$B$"</span>, B, <span class="constant">NE</span>);

<span class="function-name">draw</span>(A--T[0]--B1, <span class="constant">grey</span>); <span class="function-name">markangle</span>(A,T[0],B1, <span class="constant">grey</span>);
<span class="function-name">draw</span>(A--T[1]--B1, <span class="constant">grey</span>); <span class="function-name">markangle</span>(B1,T[1],A, <span class="constant">grey</span>);
<span class="function-name">draw</span>(B2--B1, <span class="constant">grey</span>); <span class="function-name">markangle</span>(A,B2,B1, <span class="constant">grey</span>);

