<span class="builtin">import</span> geometry;
<span class="function-name">size</span>(7<span class="constant">cm</span>,0);
<span class="type">int</span>[][] parties(<span class="type">int</span> <span class="variable-name">n</span>) {
  <span class="type">int</span>[][] oi;

  <span class="type">void</span> <span class="variable-name">loop</span>(<span class="type">int</span>[] arr, <span class="type">int</span> <span class="variable-name">i</span>) {
    oi.push(arr);
    <span class="builtin">for</span> (<span class="type">int</span> <span class="variable-name">j</span>=i; j &lt; arr.length; ++j) {
      <span class="type">int</span>[] tt=<span class="function-name">copy</span>(arr);
      tt[j]=1;
      loop(tt, j+1);}}
  loop(<span class="function-name">sequence</span>(<span class="builtin">new</span> <span class="type">int</span>(<span class="type">int</span> <span class="variable-name">n</span>){<span class="builtin">return</span> 0;}, n), 0);
  <span class="builtin">return</span> oi;}

<span class="type">int</span> <span class="variable-name">n</span>=6;
<span class="type">real</span> <span class="variable-name">step</span>=360/n;
<span class="type">point</span>[] <span class="constant">M</span>;

<span class="builtin">for</span> (<span class="type">int</span> <span class="variable-name">i</span>=0; i &lt; n; ++i) {
  <span class="constant">M</span>[i]=<span class="function-name">point</span>(<span class="function-name">dir</span>(i*step), 1);
  <span class="function-name">dot</span>(<span class="constant">M</span>[i],<span class="function-name">linewidth</span>(2<span class="constant">mm</span>));}

<span class="type">int</span>[][] part=parties(n); <span class="type">int</span> <span class="variable-name">l</span>=part.length;
<span class="type">point</span>[][] group=<span class="builtin">new</span> <span class="type">point</span>[l][];

<span class="builtin">for</span> (<span class="type">int</span> <span class="variable-name">i</span>=0; i &lt; l; ++i)
  <span class="builtin">for</span> (<span class="type">int</span> <span class="variable-name">j</span>=0; j &lt; n; ++j)
    <span class="keyword">if</span>(part[i][j] == 1) group[i].push(<span class="constant">M</span>[j]);

<span class="type">point</span>[][] partbar=<span class="builtin">new</span> <span class="type">point</span>[l][2];

<span class="builtin">for</span> (<span class="type">int</span> <span class="variable-name">i</span>=0; i &lt; l; ++i) {
  <span class="keyword">if</span>(group[i].length &gt; 0) partbar[i][0]=<span class="function-name">masscenter</span>(...group[i]);
  <span class="builtin">for</span> (<span class="type">int</span> <span class="variable-name">j</span>=0; j &lt; group[i].length; ++j)
    <span class="function-name">draw</span>(group[i][j]--partbar[i][0]);
  <span class="keyword">if</span>(group[i].length &gt; 0) <span class="function-name">dot</span>(partbar[i][0], 0.8*<span class="constant">red</span>);}

