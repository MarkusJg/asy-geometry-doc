<span class="builtin">import</span> geometry; <span class="function-name">size</span>(10<span class="constant">cm</span>,0);
<span class="type">triangle</span> <span class="variable-name">t</span>=<span class="function-name">triangleabc</span>(5,6,7); <span class="function-name">label</span>(t); <span class="function-name">draw</span>(t, <span class="function-name">linewidth</span>(<span class="constant">bp</span>));
<span class="type">point</span> <span class="variable-name">P</span>=0.6*t.B+0.25*t.C; <span class="function-name">dot</span>(<span class="string">"$P$"</span>, P, <span class="function-name">dir</span>(60), 0.8*<span class="constant">red</span>);
<span class="function-name">draw</span>(<span class="function-name">segment</span>(<span class="function-name">isotomic</span>(t.VA,P))^^<span class="function-name">segment</span>(<span class="function-name">isotomic</span>(t.VB,P))^^<span class="function-name">segment</span>(<span class="function-name">isotomic</span>(t.VC,P)),
     0.8*<span class="constant">blue</span>);
<span class="function-name">draw</span>(<span class="function-name">segment</span>(<span class="function-name">cevian</span>(t.VA,P))^^<span class="function-name">segment</span>(<span class="function-name">cevian</span>(t.VB,P))^^<span class="function-name">segment</span>(<span class="function-name">cevian</span>(t.VC,P)),
     0.8*<span class="constant">red</span>);
<span class="type">triangle</span> <span class="variable-name">t1</span>=<span class="function-name">cevian</span>(t,P); <span class="function-name">label</span>(<span class="string">"$P_1$"</span>, <span class="string">"$P_2$"</span>, <span class="string">"$P_3$"</span>, t1); <span class="function-name">draw</span>(t1, <span class="constant">bp</span>+0.8*<span class="constant">red</span>);
<span class="type">triangle</span> <span class="variable-name">t2</span>=<span class="function-name">isotomic</span>(t,P); <span class="function-name">label</span>(<span class="string">"$Q_1$"</span>, <span class="string">"$Q_2$"</span>, <span class="string">"$Q_3$"</span>, t2); <span class="function-name">draw</span>(t2, <span class="constant">bp</span>+0.8*<span class="constant">blue</span>);
<span class="function-name">dot</span>(<span class="string">"$Q$"</span>, <span class="function-name">isotomicconjugate</span>(t,P), <span class="function-name">dir</span>(100), 0.8*<span class="constant">blue</span>);

<span class="type">point</span> <span class="variable-name">Ma</span>=<span class="function-name">midpoint</span>(t.BC), <span class="variable-name">Mb</span>=<span class="function-name">midpoint</span>(t.AC), <span class="variable-name">Mc</span>=<span class="function-name">midpoint</span>(t.BA);
<span class="function-name">dot</span>(<span class="string">"$M_1$"</span>,Ma,-<span class="function-name">dir</span>(t.VA)); <span class="function-name">dot</span>(<span class="string">"$M_2$"</span>,Mb,-<span class="function-name">dir</span>(t.VB)); <span class="function-name">dot</span>(<span class="string">"$M_3$"</span>,Mc,-<span class="function-name">dir</span>(t.VC));
<span class="function-name">draw</span>(t.A--Ma^^t.B--Mb^^t.C--Mc, <span class="constant">grey</span>); <span class="function-name">dot</span>(<span class="string">"$G$"</span>, <span class="function-name">centroid</span>(t), 2*<span class="function-name">dir</span>(-65), <span class="constant">grey</span>);
<span class="function-name">draw</span>(t1.A--t2.A, 0.8*<span class="constant">green</span>, <span class="function-name">StickIntervalMarker</span>(2,1,0.8*<span class="constant">green</span>));
<span class="function-name">draw</span>(t1.B--t2.B, 0.8*<span class="constant">green</span>, <span class="function-name">StickIntervalMarker</span>(2,2,0.8*<span class="constant">green</span>));
<span class="function-name">draw</span>(t1.C--t2.C, 0.8*<span class="constant">green</span>, <span class="function-name">StickIntervalMarker</span>(2,3,0.8*<span class="constant">green</span>));

