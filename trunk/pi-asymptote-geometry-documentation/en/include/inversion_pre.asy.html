<span class="builtin">import</span> geometry;
<span class="function-name">size</span>(6.5<span class="constant">cm</span>,0); <span class="constant">currentpen</span>=<span class="function-name">linewidth</span>(<span class="constant">bp</span>);
<span class="type">point</span> <span class="variable-name">O</span>=<span class="constant">origin</span>, <span class="constant">M</span>=(2,1), <span class="variable-name">P</span>=(2,-1);
<span class="function-name">dot</span>(<span class="string">"O"</span>, O, <span class="constant">W</span>);
<span class="type">inversion</span> <span class="variable-name">t</span>=<span class="function-name">inversion</span>(2,O);
<span class="type">point</span> <span class="variable-name">Mp</span>=t*<span class="constant">M</span>, <span class="variable-name">Pt</span>=t*P;
<span class="type">circle</span> <span class="variable-name">C</span>=<span class="function-name">circle</span>(<span class="constant">M</span>,P,Mp); <span class="function-name">draw</span>(C);
<span class="function-name">dot</span>(<span class="string">"M"</span>, <span class="constant">M</span>, <span class="constant">N</span>, <span class="constant">blue</span>); <span class="function-name">dot</span>(<span class="string">"P"</span>, P, <span class="constant">S</span>, <span class="constant">blue</span>);
<span class="function-name">dot</span>(<span class="string">"M'"</span>, Mp, <span class="constant">red</span>); <span class="function-name">dot</span>(<span class="string">"P'"</span>, Pt, <span class="constant">red</span>);
<span class="type">circle</span> <span class="variable-name">Ct</span>=<span class="function-name">circle</span>(t); <span class="function-name">clipdraw</span>(Ct, 0.8*<span class="constant">red</span>);
<span class="type">point</span>[] T=<span class="function-name">intersectionpoints</span>(C,Ct);
<span class="function-name">draw</span>(<span class="function-name">line</span>(O,<span class="builtin">false</span>,T[0])); <span class="function-name">draw</span>(<span class="function-name">line</span>(O,<span class="builtin">false</span>,T[1]));

